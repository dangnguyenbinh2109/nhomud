# Dá»± Ã¡n WebApp PBA
# Architecture

```bash
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ .git/ ğŸš« (auto-hidden)
â”œâ”€â”€ Backend/
â”‚   â”œâ”€â”€ docs/
â”‚   â”‚   â””â”€â”€ flask-clean-architecture.md
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ .venv/ ğŸš« (auto-hidden)
â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth_controller.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course_controller.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ todo_controller.py
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ...  # Marshmallow schemas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ todo.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware.py
â”‚   â”‚   â”‚   â”œâ”€â”€ requests.py
â”‚   â”‚   â”‚   â”œâ”€â”€ responses.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ swagger.py
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ...  # Business logic models
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ icourse_repository.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ itodo_repository.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ todo.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.py
â”‚   â”‚   â”‚   â””â”€â”€ exceptions.py
â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”œâ”€â”€ databases/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mssql.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mysql.py
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ appointment_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ consultant_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course_register_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ feedback_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ program_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ survey_model.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ todo_model.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user_model.py
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course_repository.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ todo_repository.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user_repository.py
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â””â”€â”€ ...  # Services that use third party libraries or services (e.g. email service)
â”‚   â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”‚   â””â”€â”€ run_postgres.sh
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ __pycache__/ ğŸš« (auto-hidden)
â”‚   â”‚   â”‚   â”œâ”€â”€ ...  # Services for interacting with the domain (business logic)
â”‚   â”‚   â”‚   â”œâ”€â”€ course_service.py
â”‚   â”‚   â”‚   â””â”€â”€ todo_service.py
â”‚   â”‚   â”œâ”€â”€ .env ğŸš« (auto-hidden)
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ app.py
â”‚   â”‚   â”œâ”€â”€ app_logging.py
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ cors.py
â”‚   â”‚   â”œâ”€â”€ create_app.py
â”‚   â”‚   â”œâ”€â”€ default.db
â”‚   â”‚   â”œâ”€â”€ dependency_container.py
â”‚   â”‚   â”œâ”€â”€ error_handler.py
â”‚   â”‚   â”œâ”€â”€ migrations
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ swagger_config.json
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ default.db
â”œâ”€â”€ Frontend/
â”‚   â”œâ”€â”€ node_modules/ ğŸš« (auto-hidden)
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ vite.svg
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”‚   â””â”€â”€ react.svg
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ index.css
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ eslint.config.js
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ setup.sh

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Generated by FileTree Pro Extension
```

## Download source code (CMD)
    git clone https://github.com/dangnguyenbinh2109/nhomud.git
## Run app

 - BÆ°á»›c 1: Setup Project (Chá»‰ cáº§n setup 1 láº§n)
     ## SetUp (Git Bash):
     		sh setup.sh
 - BÆ°á»›c 2: Cháº¡y mÃ´i trÆ°á»ng áº£o cho Backend:
     ## Run virtual environment (Git Bash):
    		. Backend/.venv/Scripts/activate
 - BÆ°á»›c 3: Cháº¡y Project:
     ## Run (Git Bash):
    		sh run.sh

     Truy cÃ¢p http://localhost:6868/docs
     Backend Truy cÃ¢p http://localhost:6868
     Frontend Truy cáº­p http://localhost:5173/



## Create file .env in folder Backend/.env
    
    # Flask settings
    FLASK_ENV=development
    SECRET_KEY=your_secret_key
    
    # SQL Server settings
    DB_USER=sa
    DB_PASSWORD=Aa@123456
    DB_HOST=127.0.0.1
    DB_PORT=1433
    DB_NAME=FlaskApiDB
    
    
    DATABASE_URI = "mssql+pymssql://sa:Aa%40123456@127.0.0.1:1433/FlaskApiDB"
    GEMINI_URL = "GEMINI_URL"
    GEMINI_KEY = "GEMINI_KEY"
    
**Code name:** `virgo-14`

## I. Tá»•ng quan dá»± Ã¡n

### Má»¥c tiÃªu

Má»¥c tiÃªu cá»§a dá»± Ã¡n lÃ  xÃ¢y dá»±ng PlanbookAI â€“ cá»•ng cÃ´ng cá»¥ AI há»— trá»£ giÃ¡o viÃªn trung há»c phá»• thÃ´ng trong viá»‡c láº­p káº¿ hoáº¡ch bÃ i giáº£ng, táº¡o vÃ  cháº¥m bÃ i thi, quáº£n lÃ½ tÃ i nguyÃªn giáº£ng dáº¡y, tá»« Ä‘Ã³ giáº£m táº£i cÃ´ng viá»‡c thá»§ cÃ´ng, nÃ¢ng cao hiá»‡u quáº£ vÃ  cháº¥t lÆ°á»£ng giáº£ng dáº¡y.

### Pháº¡m vi

PhÃ¡t triá»ƒn PlanbookAI táº­p trung há»— trá»£ giÃ¡o viÃªn HÃ³a há»c trung há»c phá»• thÃ´ng vá»›i cÃ¡c chá»©c nÄƒng chÃ­nh gá»“m: quáº£n lÃ½ ngÃ¢n hÃ ng cÃ¢u há»i, táº¡o bÃ i táº­p vÃ  Ä‘á» thi tráº¯c nghiá»‡m, cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng báº±ng OCR, lÆ°u trá»¯ vÃ  tá»• chá»©c tÃ i nguyÃªn giáº£ng dáº¡y, Ä‘á»“ng thá»i cung cáº¥p phÃ¢n tÃ­ch káº¿t quáº£ há»c táº­p cá»§a há»c sinh.

### Giáº£ Ä‘á»‹nh vÃ  rÃ ng buá»™c

- GiÃ¡o viÃªn vÃ  ngÆ°á»i dÃ¹ng má»¥c tiÃªu cÃ³ ká»¹ nÄƒng cÆ¡ báº£n vá» mÃ¡y tÃ­nh vÃ  Internet.
- Háº¡ táº§ng máº¡ng vÃ  thiáº¿t bá»‹ (mÃ¡y tÃ­nh, mÃ¡y quÃ©t, camera) Ä‘Ã¡p á»©ng yÃªu cáº§u váº­n hÃ nh há»‡ thá»‘ng.
- Dá»¯ liá»‡u cÃ¢u há»i, tÃ i liá»‡u giáº£ng dáº¡y Ä‘Æ°á»£c cung cáº¥p Ä‘áº§y Ä‘á»§ vÃ  há»£p lá»‡ tá»« phÃ­a ngÆ°á»i dÃ¹ng.
- Thá»i gian phÃ¡t triá»ƒn giá»›i háº¡n, nÃªn giai Ä‘oáº¡n Ä‘áº§u chá»‰ Ã¡p dá»¥ng cho mÃ´n HÃ³a há»c THPT.
- Há»‡ thá»‘ng pháº£i tuÃ¢n thá»§ kiáº¿n trÃºc vÃ  cÃ´ng nghá»‡ Ä‘Ã£ chá»n (Spring Boot, ReactJS, MySQL, RESTful API).
- Chá»©c nÄƒng OCR ban Ä‘áº§u chá»‰ há»— trá»£ Ä‘á»‹nh dáº¡ng Ä‘á» thi tráº¯c nghiá»‡m.
- TÃ i nguyÃªn vÃ  dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ pháº£i Ä‘áº£m báº£o tÃ­nh báº£o máº­t vÃ  quyá»n riÃªng tÆ°.
## II. YÃªu cáº§u chá»©c nÄƒng
### CÃ¡c tÃ¡c nhÃ¢n
- Gá»“m 4 tÃ¡c nhÃ¢n chÃ­nh: Admin, Manager, Staff, Teacher.

<details>
<summary>Code PlantUML</summary>

```@startuml
actor Guest
actor User
actor Student
actor Teacher
actor Staff
actor Manager
actor Admin

Guest <|-- User
User <|-- Student
User <|-- Teacher
User <|-- Staff
User <|-- Manager
User <|-- Admin

rectangle "Há»‡ thá»‘ng" as System {
}

Guest -- System : access (Ä‘Äƒng kÃ½ / Ä‘Äƒng nháº­p)
Student -- System : uses (lÃ m bÃ i táº­p, thi, xem káº¿t quáº£)
Teacher -- System : uses (quáº£n lÃ½ káº¿ hoáº¡ch, bÃ i táº­p, Ä‘á» thi, cháº¥m Ä‘iá»ƒm OCR)
Staff -- System : uses (quáº£n lÃ½ ngÃ¢n hÃ ng cÃ¢u há»i)
Manager -- System : manages (quáº£n lÃ½ gÃ³i dá»‹ch vá»¥, Ä‘Æ¡n hÃ ng, duyá»‡t ná»™i dung)
Admin -- System : manages (quáº£n lÃ½ ngÆ°á»i dÃ¹ng, cáº¥u hÃ¬nh há»‡ thá»‘ng)
@enduml
```

</details>

![Biá»ƒu Ä‘á»“ tÃ¡c nhÃ¢n](docs/diagrams/bieu_do_tac_nhan.png)

### CÃ¡c chá»©c nÄƒng chÃ­nh

**Admin:**

* **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng:** Táº¡o, cáº­p nháº­t vÃ  quáº£n lÃ½ tÃ i khoáº£n, phÃ¢n quyá»n.  
* **Cáº¥u hÃ¬nh há»‡ thá»‘ng:** Thiáº¿t láº­p cÃ¡c cÃ i Ä‘áº·t vÃ  hÃ nh vi toÃ n cá»¥c.  
* **Quáº£n lÃ½ khung chÆ°Æ¡ng trÃ¬nh:** Thiáº¿t káº¿ vÃ  quáº£n lÃ½ máº«u káº¿ hoáº¡ch bÃ i há»c (má»¥c tiÃªu, hoáº¡t Ä‘á»™ng, Ä‘Ã¡nh giÃ¡...).  
* **Theo dÃµi doanh thu:** Xem bÃ¡o cÃ¡o Ä‘Äƒng kÃ½, doanh sá»‘ vÃ  tá»•ng doanh thu.  

**Manager:**

* **Quáº£n lÃ½ gÃ³i dá»‹ch vá»¥/Ä‘Äƒng kÃ½:** Táº¡o, sá»­a, xÃ³a cÃ¡c gÃ³i mÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ mua.  
* **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng:** Xem vÃ  theo dÃµi Ä‘Æ¡n hÃ ng, tráº¡ng thÃ¡i Ä‘Äƒng kÃ½.  
* **PhÃª duyá»‡t ná»™i dung:** Kiá»ƒm duyá»‡t vÃ  phÃª duyá»‡t ná»™i dung do nhÃ¢n viÃªn táº¡o (káº¿ hoáº¡ch bÃ i há»c, ngÃ¢n hÃ ng cÃ¢u há»i, prompt AI) trÆ°á»›c khi sá»­ dá»¥ng.  

**Staff:**

* **Táº¡o káº¿ hoáº¡ch bÃ i há»c máº«u:** XÃ¢y dá»±ng cÃ¡c káº¿ hoáº¡ch bÃ i há»c dá»±a trÃªn máº«u.  
* **XÃ¢y dá»±ng ngÃ¢n hÃ ng cÃ¢u há»i:** Táº¡o cÃ¢u há»i phÃ¢n loáº¡i theo mÃ´n, chá»§ Ä‘á», cáº¥p Ä‘á»™.  
* **CRUD máº«u prompt AI:** Táº¡o, Ä‘á»c, cáº­p nháº­t, xÃ³a cÃ¡c máº«u prompt Ä‘á»ƒ AI sinh ná»™i dung giÃ¡o dá»¥c.  

**Teacher:**

* **Táº¡o káº¿ hoáº¡ch bÃ i há»c & ná»™i dung kiá»ƒm tra:** Soáº¡n bÃ i dáº¡y cÃ¡ nhÃ¢n hÃ³a, sinh Ä‘á» kiá»ƒm tra tá»« máº«u & AI.  
* **Táº¡o Ä‘á» thi tráº¯c nghiá»‡m:** Sinh Ä‘á» dá»±a trÃªn ngÃ¢n hÃ ng cÃ¢u há»i, cÃ³ thá»ƒ chá»n sá»‘ lÆ°á»£ng, chá»§ Ä‘á», xÃ¡o trá»™n thá»© tá»±.  
* **Táº¡o bÃ i táº­p:** Sinh bÃ i táº­p Ä‘a dáº¡ng (tráº¯c nghiá»‡m, Ä‘iá»n chá»— trá»‘ng, tráº£ lá»i ngáº¯n).  
* **Sá»­ dá»¥ng OCR:** QuÃ©t, sá»‘ hÃ³a vÃ  cháº¥m bÃ i kiá»ƒm tra (in hoáº·c viáº¿t tay).  
* **Cháº¥m Ä‘iá»ƒm & pháº£n há»“i:** Tá»± Ä‘á»™ng cháº¥m tráº¯c nghiá»‡m, giÃ¡o viÃªn cÃ³ thá»ƒ thÃªm nháº­n xÃ©t (AI gá»£i Ã½ hoáº·c thá»§ cÃ´ng).  
* **Xem káº¿t quáº£ há»c sinh & phÃ¢n tÃ­ch:** Theo dÃµi tiáº¿n Ä‘á»™, Ä‘iá»ƒm sá»‘ vÃ  Ä‘iá»u chá»‰nh phÆ°Æ¡ng phÃ¡p giáº£ng dáº¡y.  
* **Quáº£n lÃ½ tÃ i nguyÃªn riÃªng:** LÆ°u trá»¯, tá»• chá»©c tÃ i liá»‡u, ngÃ¢n hÃ ng cÃ¢u há»i, káº¿ hoáº¡ch dáº¡y há»c.  

### Biá»ƒu Ä‘á»“ Use Case

<details>

<summary>Code PlantUML</summary>

```@startuml "Use Case Diagram - Há»‡ thá»‘ng PlanbookAI"

actor Guest
actor User
actor Teacher
actor Staff
actor Manager
actor Admin

Guest <|-- User
User <|-- Teacher
User <|-- Staff
User <|-- Manager
User <|-- Admin

rectangle "Há»‡ thá»‘ng PlanbookAI" {
  
  package "Chá»©c nÄƒng chung" {
    usecase "ÄÄƒng kÃ½ tÃ i khoáº£n má»›i" as UC_Register
    usecase "ÄÄƒng nháº­p há»‡ thá»‘ng" as UC_Login
  }

  package "Quáº£n lÃ½ ná»™i dung" {
    usecase "Duyá»‡t ná»™i dung" as UC_ContentApprove
    usecase "Quáº£n lÃ½ ngÃ¢n hÃ ng cÃ¢u há»i" as UC_QuestionBank
    usecase "Quáº£n lÃ½ káº¿ hoáº¡ch bÃ i há»c" as UC_LessonPlan
    usecase "Quáº£n lÃ½ bÃ i táº­p" as UC_Assignment
    usecase "Quáº£n lÃ½ Ä‘á» thi" as UC_Exam
  }

  package "Chá»©c nÄƒng nÃ¢ng cao" {
    usecase "Quáº£n lÃ½ gÃ³i dá»‹ch vá»¥" as UC_ServicePack
    usecase "Cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng báº±ng OCR" as UC_OCR
    usecase "Quáº£n lÃ½ Ä‘Æ¡n hÃ ng" as UC_Order
  }

  package "Chá»©c nÄƒng Admin" {
    usecase "Cáº¥u hÃ¬nh há»‡ thá»‘ng" as UC_SystemConfig
    usecase "Quáº£n lÃ½ ngÆ°á»i dÃ¹ng" as UC_UserManagement
  }
}

' LiÃªn káº¿t Guest
Guest --> UC_Register
Guest --> UC_Login

' LiÃªn káº¿t Student/User chung
User --> UC_Login
User --> UC_Register

' LiÃªn káº¿t Teacher
Teacher --> UC_LessonPlan
Teacher --> UC_Assignment
Teacher --> UC_Exam
Teacher --> UC_OCR
Teacher --> UC_Order

' LiÃªn káº¿t Staff
Staff --> UC_QuestionBank

' LiÃªn káº¿t Manager
Manager --> UC_ContentApprove
Manager --> UC_ServicePack
Manager --> UC_Order

' LiÃªn káº¿t Admin
Admin --> UC_UserManagement
Admin --> UC_SystemConfig

@enduml
```
</details>

![Biá»ƒu Ä‘á»“ usecase tá»•ng quÃ¡t](docs/diagrams/bieu_do_usecase_tong_quat.png)

### Biá»ƒu Ä‘á»“ Use Case chi tiáº¿t

#### Chá»©c nÄƒng Admin

<details>

<summary>Code PlantUML</summary>

```@startuml "Use Case Diagram - Chá»©c nÄƒng Admin"

actor Admin

rectangle "Há»‡ thá»‘ng PlanbookAI - Chá»©c nÄƒng Admin" {
  
  package "Quáº£n lÃ½ ngÆ°á»i dÃ¹ng" {
    usecase "ThÃªm ngÆ°á»i dÃ¹ng" as UC_AddUser
    usecase "Cáº­p nháº­t thÃ´ng tin" as UC_UpdateUser
    usecase "XÃ³a / KhÃ³a tÃ i khoáº£n" as UC_DeleteUser
    usecase "GÃ¡n quyá»n ngÆ°á»i dÃ¹ng" as UC_AssignRole
  }

  package "Cáº¥u hÃ¬nh há»‡ thá»‘ng" {
    usecase "Quáº£n lÃ½ tham sá»‘ há»‡ thá»‘ng" as UC_SystemParams
    usecase "Quáº£n lÃ½ phÃ¢n quyá»n" as UC_Permissions
    usecase "Sao lÆ°u & Phá»¥c há»“i dá»¯ liá»‡u" as UC_BackupRestore
  }
}

' LiÃªn káº¿t cÃ¡c Use Case vá»›i Admin
Admin --> UC_AddUser
Admin --> UC_UpdateUser
Admin --> UC_DeleteUser
Admin --> UC_AssignRole

Admin --> UC_SystemParams
Admin --> UC_Permissions
Admin --> UC_BackupRestore

@enduml
```
</details>

![Biá»ƒu Ä‘á»“ usecase chá»©c nÄƒng admin](docs/diagrams/bieu_do_usecase_admin.png)

### Chá»©c nÄƒng Manager

<details>

<summary>Code PlantUML</summary>

```@startuml "Use Case Diagram - Chá»©c nÄƒng Manager"

actor Manager

rectangle "Há»‡ thá»‘ng PlanbookAI - Chá»©c nÄƒng Manager" {
  
  package "Quáº£n lÃ½ gÃ³i dá»‹ch vá»¥" {
    usecase "Táº¡o gÃ³i dá»‹ch vá»¥" as UC_CreatePackage
    usecase "Cáº­p nháº­t gÃ³i dá»‹ch vá»¥" as UC_UpdatePackage
    usecase "XÃ³a / Ngá»«ng gÃ³i dá»‹ch vá»¥" as UC_DeletePackage
    usecase "Xem danh sÃ¡ch gÃ³i dá»‹ch vá»¥" as UC_ViewPackage
  }

  package "Quáº£n lÃ½ Ä‘Æ¡n hÃ ng" {
    usecase "Xem Ä‘Æ¡n hÃ ng" as UC_ViewOrder
    usecase "Duyá»‡t / XÃ¡c nháº­n Ä‘Æ¡n hÃ ng" as UC_ApproveOrder
    usecase "Há»§y Ä‘Æ¡n hÃ ng" as UC_CancelOrder
    usecase "Xuáº¥t bÃ¡o cÃ¡o Ä‘Æ¡n hÃ ng" as UC_ReportOrder
  }

  package "Duyá»‡t ná»™i dung" {
    usecase "Xem ná»™i dung chá» duyá»‡t" as UC_ViewContent
    usecase "PhÃª duyá»‡t ná»™i dung" as UC_ApproveContent
    usecase "Tá»« chá»‘i ná»™i dung" as UC_RejectContent
  }
}

' LiÃªn káº¿t vá»›i actor Manager
Manager --> UC_CreatePackage
Manager --> UC_UpdatePackage
Manager --> UC_DeletePackage
Manager --> UC_ViewPackage

Manager --> UC_ViewOrder
Manager --> UC_ApproveOrder
Manager --> UC_CancelOrder
Manager --> UC_ReportOrder

Manager --> UC_ViewContent
Manager --> UC_ApproveContent
Manager --> UC_RejectContent

@enduml
```

</details>

![Biá»ƒu Ä‘á»“ usecase chá»©c nÄƒng manager](docs/diagrams/bieu_do_usecase_manager.png)


### Chá»©c nÄƒng Staff

<details>

<summary>Code PlantUML</summary>

```@startuml "Use Case Diagram - Chá»©c nÄƒng Staff"

actor Staff

rectangle "Há»‡ thá»‘ng PlanbookAI - Chá»©c nÄƒng Staff" {

  package "Quáº£n lÃ½ ngÃ¢n hÃ ng cÃ¢u há»i" {
    usecase "ThÃªm cÃ¢u há»i" as UC_AddQuestion
    usecase "Chá»‰nh sá»­a cÃ¢u há»i" as UC_EditQuestion
    usecase "XÃ³a cÃ¢u há»i" as UC_DeleteQuestion
    usecase "TÃ¬m kiáº¿m/Lá»c cÃ¢u há»i" as UC_SearchQuestion
    usecase "Xem danh sÃ¡ch cÃ¢u há»i" as UC_ViewQuestion
  }

  package "Quáº£n lÃ½ káº¿ hoáº¡ch bÃ i há»c" {
    usecase "Táº¡o káº¿ hoáº¡ch bÃ i há»c" as UC_AddLessonPlan
    usecase "Chá»‰nh sá»­a káº¿ hoáº¡ch" as UC_EditLessonPlan
    usecase "XÃ³a káº¿ hoáº¡ch" as UC_DeleteLessonPlan
    usecase "Xem danh sÃ¡ch káº¿ hoáº¡ch" as UC_ViewLessonPlan
  }

  package "Quáº£n lÃ½ bÃ i táº­p" {
    usecase "Táº¡o bÃ i táº­p" as UC_AddExercise
    usecase "Chá»‰nh sá»­a bÃ i táº­p" as UC_EditExercise
    usecase "XÃ³a bÃ i táº­p" as UC_DeleteExercise
    usecase "Xem danh sÃ¡ch bÃ i táº­p" as UC_ViewExercise
  }
}

' LiÃªn káº¿t actor Staff
Staff --> UC_AddQuestion
Staff --> UC_EditQuestion
Staff --> UC_DeleteQuestion
Staff --> UC_SearchQuestion
Staff --> UC_ViewQuestion

Staff --> UC_AddLessonPlan
Staff --> UC_EditLessonPlan
Staff --> UC_DeleteLessonPlan
Staff --> UC_ViewLessonPlan

Staff --> UC_AddExercise
Staff --> UC_EditExercise
Staff --> UC_DeleteExercise
Staff --> UC_ViewExercise

@enduml

```
</details>

![Biá»ƒu Ä‘á»“ usecase chá»©c nÄƒng staff](docs/diagrams/bieu_do_usecase_staff.png)

### Chá»©c nÄƒng Teacher

<details>

<summary>Code PlantUML</summary>

```@startuml "Biá»ƒu Ä‘á»“ Use Case chá»©c nÄƒng Teacher"

skinparam usecase {
    BackgroundColor BUSINESS
}

skinparam note {
    BackgroundColor LightSkyBlue
}

left to right direction

actor Teacher

rectangle "PlanbookAI System" {
    usecase "Táº¡o káº¿ hoáº¡ch bÃ i há»c & kiá»ƒm tra" as CreateLessonAndTests
    usecase "Táº¡o Ä‘á» thi tráº¯c nghiá»‡m" as GenerateExams
    usecase "Táº¡o bÃ i táº­p" as GenerateAssignments
    usecase "Sá»­ dá»¥ng OCR Ä‘á»ƒ cháº¥m thi" as UseOCR
    usecase "Cháº¥m Ä‘iá»ƒm & pháº£n há»“i" as GradeAndFeedback
    usecase "Xem káº¿t quáº£ & phÃ¢n tÃ­ch" as ViewResults
    usecase "Quáº£n lÃ½ tÃ i nguyÃªn giáº£ng dáº¡y" as ManageResources
}

Teacher -- CreateLessonAndTests
Teacher -- GenerateExams
Teacher -- GenerateAssignments
Teacher -- UseOCR
Teacher -- GradeAndFeedback
Teacher -- ViewResults
Teacher -- ManageResources

@enduml
```
</details>

## áº£nh cá»§a pháº§n teacher

### Quy trÃ¬nh hoáº¡t Ä‘á»™ng tiÃªu biá»ƒu

#### Quy trÃ¬nh táº¡o Ä‘á» thi tráº¯c nghiá»‡m (Teacher)

<details>
<summary>Code PlantUML</summary>

```plantuml
@startuml "Quy trÃ¬nh táº¡o Ä‘á» thi tráº¯c nghiá»‡m"

skinparam activity {
    BackgroundColor LightYellow
}

|Teacher|
start
:Chá»n mÃ´n há»c;
:Chá»n chá»§ Ä‘á»;
|#palegreen|System|
:Hiá»ƒn thá»‹ cÃ¢u há»i tá»« ngÃ¢n hÃ ng;
|Teacher|
:Chá»n sá»‘ lÆ°á»£ng cÃ¢u há»i;
:Chá»n má»©c Ä‘á»™ khÃ³;
|System|
:Táº¡o Ä‘á» thi nhÃ¡p;
:Hiá»ƒn thá»‹ báº£n xem trÆ°á»›c;
|Teacher|
:Chá»‰nh sá»­a náº¿u cáº§n;
:XÃ¡c nháº­n Ä‘á» thi;
|System|
:LÆ°u Ä‘á» thi;
:Táº¡o nhiá»u phiÃªn báº£n (náº¿u chá»n);
stop
@enduml
```
</details>

## áº£nh quy trÃ¬nh hoáº¡t Ä‘á»™ng cá»§a pháº§n táº¡o Ä‘á» thi tráº¯c nghiá»‡m nhÃ© (teacher)

### Quy trÃ¬nh cháº¥m thi báº±ng OCR (Teacher)

<details>

<summary>Code PlantUML</summary>

``` @startuml "Quy trÃ¬nh cháº¥m thi báº±ng OCR"

skinparam activity {
    BackgroundColor LightYellow
}

|Teacher|
start
:Táº£i bÃ i thi cá»§a há»c sinh;
|#palegreen|System|
:Sá»­ dá»¥ng OCR nháº­n dáº¡ng Ä‘Ã¡p Ã¡n;
:So sÃ¡nh vá»›i Ä‘Ã¡p Ã¡n chuáº©n;
:TÃ­nh Ä‘iá»ƒm;
:Táº¡o bÃ¡o cÃ¡o káº¿t quáº£;
|Teacher|
:Xem káº¿t quáº£;
:ThÃªm pháº£n há»“i hoáº·c chá»‰nh sá»­a (náº¿u cáº§n);
|System|
:LÆ°u káº¿t quáº£ vÃ o há»‡ thá»‘ng;
:Gá»­i thÃ´ng bÃ¡o cho há»c sinh;
stop
@enduml
```
</details>

## áº£nh quy trÃ¬nh cháº¥m thi

### Quy trÃ¬nh phÃª duyá»‡t ná»™i dung (Manager)

<details>

<summary>Code PlantUML</summary>

``` @startuml "Quy trÃ¬nh phÃª duyá»‡t ná»™i dung"

skinparam activity {
    BackgroundColor LightYellow
}

|Staff|
start
:Táº¡o ná»™i dung (káº¿ hoáº¡ch bÃ i há»c, cÃ¢u há»i, prompt AI);
|System|
:Gá»­i yÃªu cáº§u phÃª duyá»‡t;
|Manager|
:Xem xÃ©t ná»™i dung;
if (Äáº¡t yÃªu cáº§u?) then (Yes)
    :PhÃª duyá»‡t;
    |System|
    :ÄÆ°a ná»™i dung vÃ o há»‡ thá»‘ng chÃ­nh thá»©c;
else (No)
    :Tá»« chá»‘i;
    |System|
    :Gá»­i pháº£n há»“i cho Staff;
endif
stop
@enduml
```
</details>

## áº£nh quy trÃ¬nh phÃª duyá»‡t

### Luá»“ng xá»­ lÃ½ (cáº§n áº£nh vÃ  code plantUML Ã¡ dÆ°á»›i Ä‘Ã¢y lÃ  máº¥y luá»“ng cÆ¡ báº£n Ã¡ thÃªm ná»¯a hong thÃ¬ hong bt nua)
## 1. Luá»“ng xá»­ lÃ½ ÄÄƒng nháº­p & phÃ¢n quyá»n
## 2. Luá»“ng xá»­ lÃ½ Táº¡o Ä‘á» thi tráº¯c nghiá»‡m (Teacher)
## 3. Luá»“ng xá»­ lÃ½ Cháº¥m thi báº±ng OCR (Teacher)


## III. YÃªu cáº§u phi chá»©c nÄƒng

### 1. Hiá»‡u suáº¥t
* Thá»i gian táº£i trang khÃ´ng quÃ¡ 3 giÃ¢y. 
* Thá»i gian pháº£n há»“i API khÃ´ng quÃ¡ 1 giÃ¢y.  
* Há»— trá»£ Ä‘á»“ng thá»i Ã­t nháº¥t 30 ngÆ°á»i dÃ¹ng.  
* Há»‡ thá»‘ng pháº£n há»“i nhanh vÃ  cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng linh hoáº¡t.  

### 2. Báº£o máº­t
* Sá»­ dá»¥ng JWT (JSON Web Token) cho xÃ¡c thá»±c vÃ  phÃ¢n quyá»n.  
* MÃ£ hÃ³a dá»¯ liá»‡u nháº¡y cáº£m trong cÆ¡ sá»Ÿ dá»¯ liá»‡u.  
* Báº£o vá»‡ chá»‘ng táº¥n cÃ´ng SQL Injection, XSS, CSRF.  
* Logging Ä‘áº§y Ä‘á»§ cÃ¡c hoáº¡t Ä‘á»™ng quan trá»ng.  
* Backup dá»¯ liá»‡u Ä‘á»‹nh ká»³.  

### 3. Kháº£ nÄƒng má»Ÿ rá»™ng
* Kiáº¿n trÃºc module hÃ³a, dá»… thÃªm tÃ­nh nÄƒng má»›i.  
* Kháº£ nÄƒng tÃ­ch há»£p vá»›i há»‡ thá»‘ng bÃªn thá»© ba (Supabase, Gemini AI, â€¦).  
* Dá»… dÃ ng nÃ¢ng cáº¥p phiÃªn báº£n vÃ  triá»ƒn khai báº±ng Docker, AWS.  
* Documentation Ä‘áº§y Ä‘á»§ cho developers.  

### 4. Giao diá»‡n ngÆ°á»i dÃ¹ng
* Thiáº¿t káº¿ responsive cho má»i kÃ­ch thÆ°á»›c mÃ n hÃ¬nh (desktop, tablet, mobile).  
* Thá»i gian lÃ m quen sá»­ dá»¥ng há»‡ thá»‘ng khÃ´ng quÃ¡ 30 phÃºt.  
* Giao diá»‡n trá»±c quan, nháº¥t quÃ¡n trÃªn toÃ n bá»™ há»‡ thá»‘ng.  
* Há»— trá»£ tiáº¿ng Viá»‡t (cÃ³ thá»ƒ má»Ÿ rá»™ng Ä‘a ngÃ´n ngá»¯).  

### 5. TÆ°Æ¡ng thÃ­ch
* Hoáº¡t Ä‘á»™ng trÃªn cÃ¡c trÃ¬nh duyá»‡t phá»• biáº¿n (Chrome, Firefox, Safari, Edge).  
* TÆ°Æ¡ng thÃ­ch vá»›i thiáº¿t bá»‹ di Ä‘á»™ng iOS vÃ  Android.  
* Há»— trá»£ cÃ¡c phiÃªn báº£n trÃ¬nh duyá»‡t trong vÃ²ng 2 nÄƒm trá»Ÿ láº¡i.  
* Tá»‘i Æ°u cho káº¿t ná»‘i máº¡ng cháº­m.  

### 6. Äá»™ tin cáº­y
* Uptime tá»‘i thiá»ƒu 99.9%.  
* Thá»i gian phá»¥c há»“i sau sá»± cá»‘ < 4 giá».  
* Backup dá»¯ liá»‡u hÃ ng ngÃ y.  
* CÃ³ phÆ°Æ¡ng Ã¡n dá»± phÃ²ng khi há»‡ thá»‘ng gáº·p sá»± cá»‘.  

### 7. Kháº£ nÄƒng báº£o trÃ¬
* Code Ä‘Æ°á»£c viáº¿t theo chuáº©n clean code.  
* CÃ³ tÃ i liá»‡u ká»¹ thuáº­t chi tiáº¿t.  
* Dá»… dÃ ng rollback khi cáº§n thiáº¿t.  
* Cáº¥u trÃºc dá»± Ã¡n rÃµ rÃ ng Ä‘á»ƒ thuáº­n tiá»‡n báº£o trÃ¬ vÃ  má»Ÿ rá»™ng.  

## IV. CÃ´ng nghá»‡

### 1. Backend
* **Spring Boot** â€“ phÃ¡t triá»ƒn API RESTful.  
* **PYTHON** â€“ ngÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh cho backend.  
* **JWT (JSON Web Token)** â€“ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n.  

### 2. Frontend
* **ReactJS** â€“ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng.  
* **TailwindCSS / ShadCN UI** â€“ thiáº¿t káº¿ giao diá»‡n trá»±c quan, responsive.  

### 3. CÆ¡ sá»Ÿ dá»¯ liá»‡u
* **MySQL** â€“ lÆ°u trá»¯ dá»¯ liá»‡u quan há»‡ (ngÃ¢n hÃ ng cÃ¢u há»i, káº¿ hoáº¡ch bÃ i há»c, ngÆ°á»i dÃ¹ngâ€¦).  

### 4. TÃ­ch há»£p dá»‹ch vá»¥ bÃªn thá»© ba
* **Supabase** â€“ quáº£n lÃ½ xÃ¡c thá»±c, lÆ°u trá»¯ file, backend-as-a-service.  
* **Gemini AI** â€“ há»— trá»£ sinh ná»™i dung AI (bÃ i táº­p, Ä‘á» thi, káº¿ hoáº¡ch giáº£ng dáº¡y).  

### 5. Triá»ƒn khai & háº¡ táº§ng
* **Docker** â€“ container hÃ³a á»©ng dá»¥ng.  
* **AWS** â€“ triá»ƒn khai trÃªn mÃ´i trÆ°á»ng cloud, Ä‘áº£m báº£o kháº£ nÄƒng má»Ÿ rá»™ng.  
* **N-Tier Architecture** â€“ tÃ¡ch biá»‡t cÃ¡c táº§ng (Controller â€“ Service â€“ Repository â€“ Database).  

### 6. CÃ´ng cá»¥ phÃ¡t triá»ƒn
* **GitHub** â€“ quáº£n lÃ½ mÃ£ nguá»“n, version control.  
* **PlantUML** â€“ váº½ sÆ¡ Ä‘á»“ Use Case, Activity, Sequence.  
* **Postman** â€“ kiá»ƒm thá»­ API.  
## V. YÃªu cáº§u thiáº¿t káº¿
......
